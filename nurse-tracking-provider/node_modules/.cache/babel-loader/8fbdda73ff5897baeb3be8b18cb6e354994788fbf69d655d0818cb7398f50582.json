{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MARIO\\\\OneDrive\\\\Desktop\\\\NeoPass-maihn\\\\nurse-tracking-provider\\\\src\\\\components\\\\Requests.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport io from \"socket.io-client\";\nimport \"./Requests.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io(\"http://localhost:4000\"); // غير العنوان إذا كنت على دومين\n\nexport default function Requests() {\n  _s();\n  const [requests, setRequests] = useState([]);\n  useEffect(() => {\n    // تعريف الممرض أونلاين عند فتح الصفحة\n    socket.emit(\"providerOnline\", {\n      name: \"اسم الممرض\"\n    });\n\n    // استقبال إشعار طلب جديد\n    socket.on(\"requestNotification\", requestData => {\n      setRequests(prev => [requestData, ...prev]);\n      alert(\"طلب جديد من مريض: \" + requestData.patientName);\n    });\n\n    // تنظيف عند الخروج\n    return () => socket.disconnect();\n  }, []);\n  function handleAccept(idx) {\n    setRequests(reqs => reqs.map((req, i) => i === idx ? {\n      ...req,\n      status: \"مقبول\"\n    } : req));\n  }\n  function handleReject(idx) {\n    setRequests(reqs => reqs.map((req, i) => i === idx ? {\n      ...req,\n      status: \"مرفوض\"\n    } : req));\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"requests-main\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u0627\\u0644\\u0637\\u0644\\u0628\\u0627\\u062A \\u0627\\u0644\\u062C\\u062F\\u064A\\u062F\\u0629\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), requests.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"empty\",\n      children: \"\\u0644\\u0627 \\u064A\\u0648\\u062C\\u062F \\u0637\\u0644\\u0628\\u0627\\u062A \\u062D\\u0627\\u0644\\u064A\\u0627\\u064B.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this), requests.map((req, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"request-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0645\\u0631\\u064A\\u0636:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }, this), \" \", req.patientName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"\\u0627\\u0644\\u0639\\u0646\\u0648\\u0627\\u0646:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this), \" \", req.location]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u0647\\u0627\\u062A\\u0641:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this), \" \", req.phone]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"\\u0627\\u0644\\u062E\\u062F\\u0645\\u0627\\u062A \\u0627\\u0644\\u0645\\u0637\\u0644\\u0648\\u0628\\u0629:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this), \" \", req.services && req.services.join(\", \")]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"\\u0627\\u0644\\u062D\\u0627\\u0644\\u0629:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"status-\" + (req.status || \"جديد\"),\n          children: req.status || \"جديد\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this), (!req.status || req.status === \"جديد\") && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"req-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleAccept(idx),\n          className: \"accept-btn\",\n          children: \"\\u0642\\u0628\\u0648\\u0644\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleReject(idx),\n          className: \"reject-btn\",\n          children: \"\\u0631\\u0641\\u0636\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }, this)]\n    }, idx, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n_s(Requests, \"MIcAFnHRaJFubpcUtYXSDqOxSqY=\");\n_c = Requests;\nvar _c;\n$RefreshReg$(_c, \"Requests\");","map":{"version":3,"names":["React","useEffect","useState","io","jsxDEV","_jsxDEV","socket","Requests","_s","requests","setRequests","emit","name","on","requestData","prev","alert","patientName","disconnect","handleAccept","idx","reqs","map","req","i","status","handleReject","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","location","phone","services","join","onClick","_c","$RefreshReg$"],"sources":["C:/Users/MARIO/OneDrive/Desktop/NeoPass-maihn/nurse-tracking-provider/src/components/Requests.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport io from \"socket.io-client\";\nimport \"./Requests.css\";\n\nconst socket = io(\"http://localhost:4000\"); // غير العنوان إذا كنت على دومين\n\nexport default function Requests() {\n  const [requests, setRequests] = useState([]);\n\n  useEffect(() => {\n    // تعريف الممرض أونلاين عند فتح الصفحة\n    socket.emit(\"providerOnline\", { name: \"اسم الممرض\" });\n\n    // استقبال إشعار طلب جديد\n    socket.on(\"requestNotification\", (requestData) => {\n      setRequests((prev) => [requestData, ...prev]);\n      alert(\"طلب جديد من مريض: \" + requestData.patientName);\n    });\n\n    // تنظيف عند الخروج\n    return () => socket.disconnect();\n  }, []);\n\n  function handleAccept(idx) {\n    setRequests((reqs) =>\n      reqs.map((req, i) =>\n        i === idx ? { ...req, status: \"مقبول\" } : req\n      )\n    );\n  }\n  function handleReject(idx) {\n    setRequests((reqs) =>\n      reqs.map((req, i) =>\n        i === idx ? { ...req, status: \"مرفوض\" } : req\n      )\n    );\n  }\n\n  return (\n    <div className=\"requests-main\">\n      <h2>الطلبات الجديدة</h2>\n      {requests.length === 0 && (\n        <div className=\"empty\">لا يوجد طلبات حالياً.</div>\n      )}\n      {requests.map((req, idx) => (\n        <div className=\"request-card\" key={idx}>\n          <div>\n            <b>اسم المريض:</b> {req.patientName}\n          </div>\n          <div>\n            <b>العنوان:</b> {req.location}\n          </div>\n          <div>\n            <b>رقم الهاتف:</b> {req.phone}\n          </div>\n          <div>\n            <b>الخدمات المطلوبة:</b> {req.services && req.services.join(\", \")}\n          </div>\n          <div>\n            <b>الحالة:</b>{\" \"}\n            <span className={\"status-\" + (req.status || \"جديد\")}>\n              {req.status || \"جديد\"}\n            </span>\n          </div>\n          {(!req.status || req.status === \"جديد\") && (\n            <div className=\"req-actions\">\n              <button\n                onClick={() => handleAccept(idx)}\n                className=\"accept-btn\"\n              >\n                قبول\n              </button>\n              <button\n                onClick={() => handleReject(idx)}\n                className=\"reject-btn\"\n              >\n                رفض\n              </button>\n            </div>\n          )}\n        </div>\n      ))}\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}